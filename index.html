<!DOCTYPE HTML>
<html>
	<head>
		<title>Barnwell</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
		<style>
			@import url('https://fonts.bunny.net/css2?family=Cinzel:wght@400..900&display=swap');
			
			/* Styling for barnwell images to stretch across full screen */
			#header .content img[src*="barnwell-top"],
			#header .content img[src*="barnwell-bottom"] {
				width: 100vw;
				max-width: 100vw;
				position: relative;
				left: 50%;
				right: 50%;
				margin-left: -50vw;
				margin-right: -50vw;
				display: block;
			}
			
			/* Remove extra spacing at the top */
			#header {
				padding: 1rem 0 0 0 !important;
			}
			
			/* Desktop spacing (default) */
			#header .content img[src*="barnwell-top"] {
				margin-bottom: -325px;
				margin-top: -50px;
			}
			
			#header .content img[src*="barnwell-bottom"] {
				margin-top: -550px;
			}
			
			/* Add Cinzel font styling for Barnwell heading */
			#header .content .inner h1 {
				font-family: 'Cinzel', serif;
				font-weight: 600;
				font-size: 3.5rem;
			}
			
			#header .content .inner p {
				font-size: 1.2rem;
			}
			
			/* Navigation styling */
			#header nav ul,
			#header nav ul li,
			#header nav ul li a,
			#header nav ul li a span {
				margin: 0 !important;
				padding: 0 !important;
				text-indent: 0 !important;
				text-align: center !important;
				letter-spacing: 0.05rem !important;
			}
			
			#header nav ul {
				display: flex !important;
				justify-content: center !important;
				align-items: stretch !important;
				width: 100% !important;
				padding: 0 !important;
				border: solid 1px #ffffff !important;
				border-radius: 4px !important;
			}
			
			#header nav ul li {
				flex: 1 !important;
				margin: 0 !important;
				min-width: 100px !important;
				max-width: 130px !important;
				border-left: solid 1px #ffffff !important;
				display: flex !important;
				align-items: stretch !important;
			}
			
			#header nav ul li:first-child {
				border-left: 0 !important;
			}
			
			#header nav ul li a {
				width: 100% !important;
				display: flex !important;
				justify-content: center !important;
				align-items: center !important;
				height: 2.75rem !important;
				font-size: 0.85rem !important;
				position: relative !important;
				min-width: 0 !important;
			}
			
			#header nav ul li a span {
				display: block !important;
				width: 100% !important;
			}
			
			/* Article styling */
			#main article {
				opacity: 0;
				display: none;
			}

			#main article.active {
				opacity: 1;
				display: block;
			}
			
			/* Responsive adjustments */
			@media screen and (max-width: 736px) {
				#header nav ul li {
					min-width: 80px;
					margin: 0 !important;
				}
				
				#header nav ul li a {
					font-size: 0.8rem !important;
				}
			}
			
			@media screen and (max-width: 480px) {
				#header nav ul {
					flex-direction: column !important;
					flex-wrap: nowrap !important;
				}
				
				#header nav ul li {
					width: 100% !important;
					min-width: 0 !important;
					max-width: none !important;
					border-bottom: solid 1px #ffffff !important;
				}
				
				#header nav ul li:last-child {
					border-bottom: none !important;
				}
				
				#header nav ul li a {
					font-size: 0.75rem !important;
					height: 2.75rem !important;
				}
			}
			
			/* Responsive spacing adjustments */
			@media screen and (min-width: 768px) and (max-width: 1024px) {
				#header {
					padding: 0.75rem 0 0 0 !important;
				}
				#header .content img[src*="barnwell-top"] {
					margin-bottom: -210px !important;
					margin-top: -30px !important;
				}
				#header .content img[src*="barnwell-bottom"] {
					margin-top: -400px !important;
				}
				#header .content .inner h1 {
					font-size: 2.8rem !important;
				}
				#header .content .inner p {
					font-size: 1.1rem !important;
				}
			}
			
			@media screen and (min-width: 481px) and (max-width: 767px) {
				#header {
					padding: 0.5rem 0 0 0 !important;
				}
				#header .content img[src*="barnwell-top"] {
					margin-bottom: -160px !important;
					margin-top: -20px !important;
				}
				#header .content img[src*="barnwell-bottom"] {
					margin-top: -300px !important;
				}
				#header .content .inner {
					padding-top: 0.2rem !important;
					padding-bottom: 0.2rem !important;
				}
				#header .content .inner h1 {
					font-size: 2.2rem !important;
					margin-bottom: 0.3rem !important;
				}
				#header .content .inner p {
					font-size: 0.9rem !important;
					margin-bottom: 0.5rem !important;
				}
			}
			
			@media screen and (max-width: 480px) {
				#header {
					padding: 0.25rem 0 0 0 !important;
				}
				#header .content img[src*="barnwell-top"] {
					margin-bottom: -100px !important;
					margin-top: -15px !important;
				}
				#header .content img[src*="barnwell-bottom"] {
					margin-top: -170px !important;
				}
				#header .content .inner {
					padding-top: 0.15rem !important;
					padding-bottom: 0.15rem !important;
				}
				#header .content .inner h1 {
					font-size: 1.4rem !important;
					margin-bottom: 0.2rem !important;
				}
				#header .content .inner p {
					font-size: 0.7rem !important;
					line-height: 1.3 !important;
					margin-bottom: 0.6rem !important;
				}
			}
			
			/* Remove vertical lines */
			#header:before,
			#header:after,
			#header > *:before,
			#header > *:after,
			#header nav:before,
			#header nav:after,
			#wrapper:before,
			#wrapper:after {
				display: none !important;
				border: none !important;
				content: none !important;
				background: none !important;
				width: 0 !important;
				height: 0 !important;
			}
			
			/* Background image */
			#bg:after {
				background-image: url("images/background.png") !important;
				background-position: center !important;
				background-size: cover !important;
				background-repeat: no-repeat !important;
			}

			.team-grid {
				display: grid;
				grid-template-columns: repeat(auto-fit, minmax(280px, 1fr));
				gap: 2rem;
				padding: 1rem 0;
			}

			.team-card {
				background: rgba(255, 255, 255, 0.05);
				border: 1px solid rgba(255, 255, 255, 0.1);
				border-radius: 8px;
				overflow: hidden;
				transition: transform 0.2s ease-in-out;
			}

			.team-card:hover {
				transform: translateY(-5px);
			}

			.team-member-image {
				width: 100%;
				height: 300px;
				object-fit: cover;
			}

			.team-member-info {
				padding: 1.5rem;
			}

			.team-member-info h3 {
				margin: 0 0 0.5rem 0;
				font-family: 'Cinzel', serif;
				font-size: 1.5rem;
			}

			.team-role {
				color: rgba(255, 255, 255, 0.8);
				font-size: 0.9rem;
				margin: 0 0 1rem 0;
			}

			.team-bio {
				font-size: 0.9rem;
				line-height: 1.6;
				margin: 0;
			}

			@media screen and (max-width: 736px) {
				.team-grid {
					gap: 1.5rem;
				}

				.team-member-image {
					height: 250px;
				}

				.team-member-info {
					padding: 1rem;
				}
			}

			.horse-grid {
				display: grid;
				grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
				gap: 2rem;
				padding: 1rem 0;
			}

			.horse-card {
				background: rgba(255, 255, 255, 0.05);
				border: 1px solid rgba(255, 255, 255, 0.1);
				border-radius: 8px;
				overflow: hidden;
				transition: transform 0.2s ease-in-out;
			}

			.horse-card:hover {
				transform: translateY(-5px);
			}

			.horse-image {
				width: 100%;
				height: 350px;
				object-fit: cover;
			}

			.horse-info {
				padding: 1.5rem;
			}

			.horse-info h3 {
				margin: 0 0 1rem 0;
				font-family: 'Cinzel', serif;
				font-size: 1.5rem;
			}

			.horse-details {
				font-size: 0.9rem;
				line-height: 1.8;
				margin: 0 0 1rem 0;
			}

			.detail-label {
				color: rgba(255, 255, 255, 0.8);
				font-weight: bold;
				margin-right: 0.5rem;
			}

			.horse-bio {
				font-size: 0.9rem;
				line-height: 1.6;
				margin: 0;
				color: rgba(255, 255, 255, 0.9);
			}

			@media screen and (max-width: 736px) {
				.horse-grid {
					gap: 1.5rem;
				}

				.horse-image {
					height: 300px;
				}

				.horse-info {
					padding: 1rem;
				}
			}
			
			/* Blog styles */
			.blog-grid {
				display: grid;
				grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
				gap: 2rem;
				margin-top: 2rem;
			}
			
			.blog-card {
				background: rgba(255, 255, 255, 0.05);
				border: 1px solid rgba(255, 255, 255, 0.1);
				border-radius: 8px;
				overflow: hidden;
				transition: transform 0.2s ease-in-out;
				cursor: pointer;
			}
			
			.blog-card:hover {
				transform: translateY(-5px);
			}
			
			.blog-image {
				width: 100%;
				height: 200px;
				object-fit: cover;
			}
			
			.blog-card-content {
				padding: 1.5rem;
			}
			
			.blog-card-title {
				font-family: 'Cinzel', serif;
				font-size: 1.5rem;
				margin: 0 0 0.5rem 0;
			}
			
			.blog-meta {
				display: flex;
				justify-content: space-between;
				color: rgba(255, 255, 255, 0.7);
				font-size: 0.8rem;
				margin-bottom: 1rem;
			}
			
			.blog-excerpt {
				font-size: 0.9rem;
				line-height: 1.6;
				color: rgba(255, 255, 255, 0.9);
			}
			
			.blog-search {
				display: flex;
				max-width: 600px;
				margin: 0 auto;
			}
			
			#blog-search-input {
				flex: 1;
				background: rgba(255, 255, 255, 0.1);
				border: 1px solid rgba(255, 255, 255, 0.2);
				color: white;
				padding: 0.7rem 1rem;
				border-radius: 4px 0 0 4px;
				font-family: inherit;
			}
			
			#blog-search-button {
				background: rgba(255, 255, 255, 0.2);
				color: white;
				border: 1px solid rgba(255, 255, 255, 0.3);
				border-left: none;
				padding: 0 1.5rem;
				border-radius: 0 4px 4px 0;
				cursor: pointer;
				font-family: inherit;
				transition: background 0.2s;
			}
			
			#blog-search-button:hover {
				background: rgba(255, 255, 255, 0.3);
			}
			
			/* Single post view */
			.post-view {
				display: none;
			}
			
			.post-view.active-view {
				display: block;
			}
			
			#blog-list.active-view {
				display: block;
			}
			
			#blog-list {
				display: none;
			}
			
			.back-button {
				background: rgba(255, 255, 255, 0.1);
				color: white;
				border: 1px solid rgba(255, 255, 255, 0.2);
				padding: 0.15rem 0.6rem 2.6rem;
				border-radius: 4px;
				margin-bottom: 2rem;
				cursor: pointer;
				font-family: inherit;
				font-size: 1.0rem;
				font-weight: normal;
				letter-spacing: 0.1em;
				text-align: center;
				display: inline-block;
				width: 100px;
				margin-left: 0;
				margin-right: auto;
				transition: background 0.2s;
			}
			
			.back-button:hover {
				background: rgba(255, 255, 255, 0.2);
			}
			
			.post-header {
				margin-bottom: 2rem;
			}
			
			.post-title {
				font-family: 'Cinzel', serif;
				font-size: 2.5rem;
				margin-bottom: 1rem;
			}
			
			.post-meta {
				display: flex;
				justify-content: space-between;
				color: rgba(255, 255, 255, 0.7);
				font-size: 0.9rem;
				margin-bottom: 1.5rem;
			}
			
			.post-image {
				width: 100%;
				max-height: 500px;
				object-fit: cover;
				margin-bottom: 2rem;
				border-radius: 8px;
			}
			
			.post-content {
				font-size: 1rem;
				line-height: 1.8;
			}
			
			.loading-indicator {
				text-align: center;
				grid-column: 1 / -1;
				padding: 2rem;
				color: rgba(255, 255, 255, 0.7);
			}
			
			.no-posts {
				text-align: center;
				grid-column: 1 / -1;
				padding: 3rem;
				color: rgba(255, 255, 255, 0.7);
			}
			
			@media screen and (max-width: 736px) {
				.blog-grid {
					gap: 1.5rem;
				}
				
				.blog-card-content {
					padding: 1rem;
				}
				
				.blog-card-title {
					font-size: 1.2rem;
				}
				
				.post-title {
					font-size: 1.8rem;
				}
			}
		</style>
	</head>
	<body class="is-preload">
		<div id="wrapper">
			<header id="header">
				<div class="content" style="border-top: none; border-bottom: none;">
					<img src="images/barnwell-top.png" alt="Barnwell top decoration" />
					<div class="inner" style="padding-top: 0.25rem; padding-bottom: 0.25rem; margin: 0;">
						<h1 style="margin-bottom: 0.5rem;">Barnwell</h1>
						<p style="margin-top: 0; margin-bottom: 0.5rem;"><b>Nassau County, FL</b></p>
						<p style="margin-top: 0;"><b>Jumper Barn</b></p>
					</div>
					<img src="images/barnwell-bottom.png" alt="Barnwell bottom decoration" />
				</div>
				<nav>
					<ul>
						<li><a href="#about"><span><b>About Us</b></span></a></li>
						<li><a href="#horses"><span><b>Our Horses</b></span></a></li>
						<li><a href="#team"><span><b>Our Team</b></span></a></li>
						<li><a href="#schooling"><span><b>Schooling</b></span></a></li>
						<li><a href="#shows"><span><b>Shows</b></span></a></li>
						<li><a href="#corner"><span><b>Scary Corner</b></span></a></li>
					</ul>
				</nav>
			</header>

			<div id="main">
				<article id="about">
					<h2 class="major">About Us</h2>
					<span class="image main"><img src="images/pic01.jpg" alt="About Us" /></span>
					<p>
						Barnwell is proudly owned and operated by the Miller family at 96027 Skipper Lane. 
						Carly Miller, along with John and Carol Woodmansee, bring decades of equestrian experience and passion to the barn. 
						Our family-run operation is dedicated to providing top-notch care for our horses. 
						When they're not busy with the horses, you might spot our two beloved cats, Kraken and Queenie, roaming the property.
					</p>
				</article>

				<article id="horses">
					<h2 class="major">Our Horses</h2>
					<div class="horse-grid">
						<div class="horse-card">
							<img src="images/pic02.jpg" alt="Horse Name" class="horse-image">
							<div class="horse-info">
								<h3>Atorranta Z</h3>
								<p class="horse-details">
									<span class="detail-label">Breed:</span> Zangersheide&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
									<span class="detail-label">Registered:</span> ✓<br>
									<span class="detail-label">Born:</span> 2009<br>
									<span class="detail-label">Height:</span> 16.3 hands<br>
									<span class="detail-label">Sex:</span> Mare
								</p>
								<p class="horse-bio">Usually plays with chase</p>
							</div>
						</div>
						<div class="horse-card">
							<img src="images/pic02.jpg" alt="Horse Name" class="horse-image">
							<div class="horse-info">
								<h3>Adderonta</h3>
								<p class="horse-details">
									<span class="detail-label">Breed:</span> Slight Jerk<br>
									<span class="detail-label">Age:</span> 8 years<br>
									<span class="detail-label">Height:</span> 16 hands<br>
									<span class="detail-label">Discipline:</span> Not really
								</p>
								<p class="horse-bio">Kind of an a-hole</p>
							</div>
						</div>
						<div class="horse-card">
							<img src="images/pic02.jpg" alt="Horse Name" class="horse-image">
							<div class="horse-info">
								<h3>Zilla</h3>
								<p class="horse-details">
									<span class="detail-label">Breed:</span> Complete Jerk<br>
									<span class="detail-label">Age:</span> 8 years<br>
									<span class="detail-label">Height:</span> 16 hands<br>
									<span class="detail-label">Discipline:</span> None.
								</p>
								<p class="horse-bio">Do not get within 10 feet.</p>
							</div>
						</div>
						<div class="horse-card">
							<img src="images/pic02.jpg" alt="Horse Name" class="horse-image">
							<div class="horse-info">
								<h3>Titainia +1</h3>
								<p class="horse-details">
									<span class="detail-label">Breed:</span> Really pregnant<br>
									<span class="detail-label">Age:</span> 8 years<br>
									<span class="detail-label">Height:</span> 16 hands<br>
									<span class="detail-label">Discipline:</span> Food
								</p>
								<p class="horse-bio">It's pregnant horse, idk</p>
							</div>
						</div>
					</div>
				</article>

				<article id="team">
					<h2 class="major">Our Team</h2>
					<div class="team-grid">
						<div class="team-card">
							<img src="images/pic01.jpg" alt="Carly Miller" class="team-member-image">
							<div class="team-member-info">
								<h3>Carly Miller</h3>
								<p class="team-role">Good Looker</p>
								<p class="team-bio">Lorem ipsum...</p>
							</div>
						</div>
						<div class="team-card">
							<img src="images/pic02.jpg" alt="John Woodmansee" class="team-member-image">
							<div class="team-member-info">
								<h3>John Woodmansee</h3>
								<p class="team-role">that one guy nobody can get rid of</p>
								<p class="team-bio">Lorem ipsum...</p>
							</div>
						</div>
						<div class="team-card">
							<img src="images/pic03.jpg" alt="Carol Woodmansee" class="team-member-image">
							<div class="team-member-info">
								<h3>Carol Woodmansee</h3>
								<p class="team-role">Good Cooker</p>
								<p class="team-bio">Lorem ipsum...</p>
							</div>
						</div>
					</div>
				</article>

				<article id="schooling">
					<h2 class="major">Schooling</h2>
					<p>[Schooling information and scheduling goes here]</p>
				</article>

				<article id="shows">
					<h2 class="major">Shows</h2>
					<p>[Show schedule and information goes here]</p>
				</article>

				<article id="corner">
					<h2 class="major">Scary Corner</h2>
					
					<div id="blog-container">
						<!-- Blog listing view -->
						<div id="blog-list" class="active-view">
							<div class="blog-search">
								<input type="text" id="blog-search-input" placeholder="Search posts...">
								<button id="blog-search-button">Search</button>
							</div>
							
							<div id="blog-posts-container" class="blog-grid">
								<!-- Posts will be loaded here -->
								<div class="loading-indicator">Loading posts...</div>
							</div>
						</div>
						
						<!-- Single post view -->
						<div id="blog-post" class="post-view">
							<button id="back-to-posts" class="back-button">&larr; Back</button>
							<div id="post-content">
								<!-- Single post will be loaded here -->
							</div>
						</div>
					</div>
				</article>
			</div>

			<footer id="footer">
				<p class="copyright">&copy; Barnwell</p>
				<p class="copyright"> Website by <a href="https://admtech.org">ADM Technology</a></p>
			</footer>
		</div>

		<div id="bg"></div>

		<!-- Scripts -->
		<script src="assets/js/jquery.min.js"></script>
		<script src="assets/js/browser.min.js"></script>
		<script src="assets/js/breakpoints.min.js"></script>
		<script src="assets/js/util.js"></script>
		<script src="assets/js/main.js"></script>
		<script>
			// Blog functionality
			document.addEventListener('DOMContentLoaded', function() {
				// Elements
				const blogListContainer = document.getElementById('blog-list');
				const blogPostContainer = document.getElementById('blog-post');
				const postsContainer = document.getElementById('blog-posts-container');
				const postContent = document.getElementById('post-content');
				const backButton = document.getElementById('back-to-posts');
				const searchInput = document.getElementById('blog-search-input');
				const searchButton = document.getElementById('blog-search-button');
				
				const API_URL = 'https://barnwell-blog-worker.admtech.us/api/blog';
				
				// Load all posts on page load
				loadPosts();
				
				// Event listeners
				backButton.addEventListener('click', showPostsList);
				searchButton.addEventListener('click', handleSearch);
				searchInput.addEventListener('keypress', function(e) {
					if (e.key === 'Enter') {
						handleSearch();
					}
				});
				
				// Load blog posts from API
				function loadPosts(searchTerm = null) {
					postsContainer.innerHTML = '<div class="loading-indicator">Loading posts...</div>';
					
					let url = `${API_URL}?action=get_posts`;
					if (searchTerm) {
						url += `&search=${encodeURIComponent(searchTerm)}`;
					}
					
					fetch(url)
						.then(response => {
							if (!response.ok) {
								throw new Error('Network response was not ok');
							}
							return response.json();
						})
						.then(posts => {
							displayPosts(posts);
						})
						.catch(error => {
							console.error('Error fetching posts:', error);
							postsContainer.innerHTML = `
								<div class="no-posts">
									<p>Failed to load posts. Please try again later.</p>
								</div>
							`;
						});
				}
				
				// Display posts in the grid
				function displayPosts(posts) {
					if (posts.length === 0) {
						postsContainer.innerHTML = `
							<div class="no-posts">
								<p>No posts found. Check back later!</p>
							</div>
						`;
						return;
					}
					
					postsContainer.innerHTML = '';
					
					posts.forEach(post => {
						const postElement = document.createElement('div');
						postElement.className = 'blog-card';
						postElement.innerHTML = `
							<img src="${post.image_url || 'images/default-blog.jpg'}" alt="${post.title}" class="blog-image">
							<div class="blog-card-content">
								<h3 class="blog-card-title">${post.title}</h3>
								<div class="blog-meta">
									<span class="blog-date">${post.published_date}</span>
									<span class="blog-category">${post.category}</span>
								</div>
								<p class="blog-excerpt">${post.excerpt}</p>
							</div>
						`;
						
						postElement.addEventListener('click', () => {
							loadSinglePost(post.slug);
						});
						
						postsContainer.appendChild(postElement);
					});
				}
				
				// Load a single post
				function loadSinglePost(slug) {
					postContent.innerHTML = '<div class="loading-indicator">Loading post...</div>';
					showPostView();
					
					fetch(`${API_URL}?action=get_post&slug=${encodeURIComponent(slug)}`)
						.then(response => {
							if (!response.ok) {
								throw new Error('Network response was not ok');
							}
							return response.json();
						})
						.then(post => {
							displaySinglePost(post.data);
						})
						.catch(error => {
							console.error('Error fetching post:', error);
							postContent.innerHTML = `
								<div class="no-posts">
									<p>Failed to load post. Please try again later.</p>
								</div>
							`;
						});
				}
				
				// Display a single post
				function displaySinglePost(post) {
					postContent.innerHTML = `
						<div class="post-header">
							<h1 class="post-title">${post.title}</h1>
							<div class="post-meta">
								<span class="post-date">${post.published_date}</span>
								<span class="post-category">${post.category}</span>
							</div>
						</div>
						
						<img src="${post.image_url || 'images/default-blog.png'}" alt="${post.title}" class="post-image">
						
						<div class="post-content">
							${post.content}
						</div>
					`;
				}
				
				// Show posts list view
				function showPostsList() {
					blogPostContainer.classList.remove('active-view');
					blogListContainer.classList.add('active-view');
				}
				
				// Show single post view
				function showPostView() {
					blogListContainer.classList.remove('active-view');
					blogPostContainer.classList.add('active-view');
				}
				
				// Handle search
				function handleSearch() {
					const searchTerm = searchInput.value.trim();
					if (searchTerm) {
						loadPosts(searchTerm);
					} else {
						loadPosts();
					}
				}
			});
		</script>
	</body>
</html>
